/**
 * Glossary Search & Autocomplete Styles
 * Modern Scholarly Design inspired by catalog-modern-scholarly.html
 */

:root {
    /* Brand Colors from mockup */
    --royal-blue: #14375d;
    --burgundy: #8b1538;
    --gold: #d4af37;
    --cream: #f5f1e8;
    --white: #ffffff;
    --dark-gray: #2c2c2c;
    
    /* Semantic Colors */
    --body-bg: #fafafa;
    --text-primary: #2c2c2c;
    --text-secondary: #555;
    --text-light: #666;
    --text-muted: #999;
    
    /* Borders & Lines */
    --border-light: #e0e0e0;
    --border-medium: #ddd;
}

/* Search container */
.glossary-search {
    position: relative;
    max-width: 600px;
    margin-bottom: 2rem;
    padding: 20px;
    background: var(--white);
    border: 1px solid var(--border-light);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

/* Search input */
#glossary-autocomplete {
    width: 100%;
    padding: 15px 20px;
    font-size: 16px;
    font-family: 'Lato', sans-serif;
    border: 2px solid var(--border-light);
    border-radius: 8px;
    background: var(--white);
    color: var(--text-primary);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

#glossary-autocomplete:focus {
    outline: none;
    border-color: var(--royal-blue);
    box-shadow: 0 0 0 3px rgba(20, 55, 93, 0.1);
}

#glossary-autocomplete::placeholder {
    color: var(--text-muted);
    font-style: italic;
}

/* Autocomplete results container */
.glossary-autocomplete-results {
    position: absolute;
    top: calc(100% - 20px);
    left: 20px;
    right: 20px;
    z-index: 1000;
    background: var(--white);
    border: 1px solid var(--border-light);
    border-top: none;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    max-height: 320px;
    overflow-y: auto;
}

/* Autocomplete list */
.autocomplete-list {
    margin: 0;
    padding: 0;
    list-style: none;
}

/* Autocomplete items */
.autocomplete-item {
    padding: 15px 20px;
    cursor: pointer;
    border-bottom: 1px solid var(--border-light);
    transition: background-color 0.3s ease, color 0.3s ease;
    font-family: 'Lato', sans-serif;
    color: var(--text-primary);
}

.autocomplete-item:last-child {
    border-bottom: none;
}

.autocomplete-item:hover {
    background-color: var(--cream);
    color: var(--royal-blue);
}

.autocomplete-item:active {
    background-color: var(--border-light);
}

/* Loading state */
.autocomplete-loading {
    padding: 12px 16px;
    color: #6b7280;
    font-style: italic;
    text-align: center;
}

/* No results state */
.autocomplete-no-results {
    padding: 12px 16px;
    color: #9ca3af;
    font-style: italic;
    text-align: center;
}

/* Error state */
.autocomplete-error {
    padding: 12px 16px;
    color: #dc2626;
    font-style: italic;
    text-align: center;
}

/* Highlighted glossary entry - inspired by translation items */
.glossary-entry.highlighted,
.glossary-entry-item.highlighted {
    background: linear-gradient(90deg, rgba(212, 175, 55, 0.05), transparent);
    border: 1px solid var(--gold);
    border-radius: 8px;
    padding: 25px;
    margin: 20px 0;
    transition: all 0.3s ease;
    box-shadow: 0 3px 12px rgba(212, 175, 55, 0.15);
}

/* Enhanced glossary entry styling to match translation items */
.glossary-entry-item,
.glossary-entry {
    border: 1px solid var(--border-light);
    border-radius: 8px;
    padding: 25px;
    margin: 15px 0;
    transition: box-shadow 0.3s, border-color 0.3s;
    background: var(--white);
}

.glossary-entry-item:hover,
.glossary-entry:hover {
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-color: var(--gold);
}

/* Term name styling */
.glossary-entry-item .term-name,
.glossary-entry .glossary-term,
.glossary-entry h3,
.glossary-entry h4 {
    color: var(--royal-blue);
    font-size: 1.4rem;
    font-weight: 600;
    margin-bottom: 8px;
    font-family: 'Libre Baskerville', serif;
}

/* Language terms styling */
.glossary-entry-item .term-languages,
.glossary-entry .term-languages {
    display: flex;
    gap: 15px;
    margin: 10px 0;
    flex-wrap: wrap;
}

.sanskrit-term,
.tibetan-term,
.lang-tag {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 8px;
    background: var(--cream);
    border-radius: 4px;
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.tibetan-script {
    font-weight: 500;
}

/* Definition styling */
.glossary-entry-item .glossary-definition,
.glossary-entry .definition {
    color: var(--text-primary);
    line-height: 1.6;
    margin-top: 12px;
    font-family: 'Lato', sans-serif;
}

/* Responsive design */
@media (max-width: 768px) {
    .glossary-search {
        max-width: 100%;
    }
    
    #glossary-autocomplete {
        font-size: 16px; /* Prevent zoom on iOS */
    }
    
    .glossary-autocomplete-results {
        max-height: 200px;
    }
    
    .autocomplete-item {
        padding: 10px 12px;
    }
}

/* Focus trap for accessibility */
.autocomplete-item:focus {
    outline: 2px solid #14375d;
    outline-offset: -2px;
    background-color: #f8fafc;
}

/* Search messages */
.glossary-search-message {
    margin-top: 0.5rem;
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 500;
}

.glossary-search-message.loading {
    background-color: #e0f2fe;
    color: #0277bd;
    border: 1px solid #b3e5fc;
}

.glossary-search-message.error {
    background-color: #ffebee;
    color: #d32f2f;
    border: 1px solid #ffcdd2;
}

.glossary-search-message.success {
    background-color: #e8f5e8;
    color: #2e7d32;
    border: 1px solid #c8e6c9;
}

/* Clear filter button */
.clear-filter-btn {
    display: inline-block;
    margin: 1rem 0;
    padding: 12px 24px;
    background-color: var(--royal-blue);
    color: var(--white);
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 600;
    font-family: 'Lato', sans-serif;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    box-shadow: 0 2px 6px rgba(20, 55, 93, 0.2);
}

.clear-filter-btn:hover {
    background-color: var(--burgundy);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(139, 21, 56, 0.3);
}

.clear-filter-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(20, 55, 93, 0.2);
}

.clear-filter-btn:focus {
    outline: 2px solid var(--gold);
    outline-offset: 2px;
}

/* Hidden entries */
.glossary-entry {
    transition: opacity 0.2s ease;
}

.glossary-entry:not(.highlighted) {
    /* No special styling when not highlighted */
}

/* Filtered state */
.glossary-filtered .glossary-entry:not(:visible) {
    display: none !important;
}